<script setup lang="ts">
import { ref, onMounted, nextTick, computed } from 'vue'
import { gsap } from 'gsap'
import { ScrollTrigger } from 'gsap/ScrollTrigger'

import {
  Package,
  ShoppingCart,
  Users,
  TrendingUp,
  FileText,
  Bell
} from 'lucide-vue-next'

gsap.registerPlugin(ScrollTrigger)

const features = computed(() => [
  {
    icon: Package,
    title: 'Complete Inventory Management',
    description:
      'Track your stock levels in real time, monitor incoming and outgoing product movements, and receive automatic alerts when items reach low or critical levels. Enjoy advanced categorization, batch and expiry tracking, and full product history for complete control over your inventory.',
  },
  {
    icon: ShoppingCart,
    title: 'Integrated Point of Sale',
    description:
      'Generate sales instantly with an intuitive POS interface that supports VAT automation, discounts, refunds, and multiple payment methods. Print professional receipts, create invoices on the fly, and sync all transactions directly with your inventory in real time.',
  },
  {
    icon: Users,
    title: 'Customer & Supplier Management',
    description:
      'Centralize all your business contacts in one place. Access detailed purchase histories, manage supplier relationships, automate purchase orders, and personalize communication based on customer behavior and previous interactions.',
  },
  {
    icon: TrendingUp,
    title: 'Advanced Analytics & Reporting',
    description:
      'Analyze your business performance with detailed dashboards and KPIs. Identify your best-selling products, monitor sales trends, compare categories, and access daily, weekly, and monthly performance insights to make better, data-driven decisions.',
  },
  {
    icon: FileText,
    title: 'Multi-Company Management',
    description:
      'Manage multiple businesses from a single account while ensuring complete data isolation between companies. Customize configurations, products, user roles, and dashboards independently for each business, all under one secure interface.',
  },
  {
    icon: Bell,
    title: 'Smart & Automated Notifications',
    description:
      'Receive real-time alerts for low stock levels, upcoming supplier orders, pending tasks, employee activity, and critical system events. Customize your notification settings to stay informed and never miss an important update.',
  },
])


const sectionRef = ref(null)
const headerRef = ref(null)
const subtitleRef = ref(null)

onMounted(() => {
  gsap.from([headerRef.value, subtitleRef.value], {
    scrollTrigger: { trigger: sectionRef.value, start: 'top 80%' },
    opacity: 0,
    y: 40,
    stagger: 0.15,
    duration: 1.1,
    ease: 'power3.out',
  })

  nextTick(() => {
    gsap.utils.toArray('.feature-item').forEach((card: any, i) => {
      gsap.from(card, {
        scrollTrigger: { trigger: card, start: 'top 85%' },
        opacity: 0,
        y: 60,
        duration: 1,
        delay: i * 0.1,
        ease: 'power3.out',
      })
    })
  })
})
</script>


<template>
  <section ref="sectionRef" class="bg-gray-50 py-20 px-6 overflow-hidden relative">
    <div class="max-w-7xl mx-auto">

      <svg
        width="100%"
        height="100%"
        id="svg"
        viewBox="0 0 1440 590"
        xmlns="http://www.w3.org/2000/svg"
        class="absolute top-0 right-0 z-10 w-full h-full opacity-20 hidden lg:block"
      >
        <path d="M 0,600 L 0,150 C 27.3758486096744,147.71800206430567 54.7516972193488,145.43600412861133 83,170 C 111.2483027806512,194.56399587138867 140.36905973227923,245.9739855498604 175,275 C 209.63094026772077,304.0260144501396 249.77206385153426,310.668053671947 285,311 C 320.22793614846574,311.331946328053 350.5426848615836,305.35379976235157 385,345 C 419.4573151384164,384.64620023764843 458.05719670213136,469.91674727864677 486,521 C 513.9428032978686,572.0832527213532 531.2285283298909,588.9792111230613 559,598 C 586.7714716701091,607.0207888769387 625.028689978305,608.1664082291084 659,601 C 692.971310021695,593.8335917708916 722.6567117568893,578.3551559605056 760,624 C 797.3432882431107,669.6448440394944 842.3444629941376,776.4129679288689 878,821 C 913.6555370058624,865.5870320711311 939.9654362665597,847.9929723240189 964,846 C 988.0345637334403,844.0070276759811 1009.7937919396236,857.6151427750556 1042,887 C 1074.2062080603764,916.3848572249444 1116.8593959749462,961.5464565757584 1148,1004 C 1179.1406040250538,1046.4535434242416 1198.7686241605911,1086.1990309219113 1235,1096 C 1271.2313758394089,1105.8009690780887 1324.0661073826882,1085.6574197365967 1361,1098 C 1397.9338926173118,1110.3425802634033 1418.966946308656,1155.1712901317017 1440,1200 L 1440,600 L 0,600 Z" stroke="none" stroke-width="0" fill="#0693e3" fill-opacity="0.53" class="transition-all duration-300 ease-in-out delay-150 path-0"></path>
 
        <path d="M 0,600 L 0,350 C 28.51707951182344,359.84569346726903 57.03415902364688,369.69138693453806 88,366 C 118.96584097635312,362.30861306546194 152.38044341723594,345.08014572911674 185,391 C 217.61955658276406,436.91985427088326 249.44406730740928,545.9880301489948 280,567 C 310.5559326925907,588.0119698510052 339.843287353127,520.9677336749045 371,533 C 402.156712646873,545.0322663250955 435.18278328008273,636.1410351513874 468,670 C 500.81721671991727,703.8589648486126 533.4255795265424,680.4681257195462 570,704 C 606.5744204734576,727.5318742804538 647.1148986137478,797.9864619704283 684,828 C 720.8851013862522,858.0135380295717 754.1148260184665,847.5860263987406 782,854 C 809.8851739815335,860.4139736012594 832.4257973123862,883.6694324346095 862,921 C 891.5742026876138,958.3305675653905 928.1819847319883,1009.7362438628213 959,1032 C 989.8180152680117,1054.2637561371787 1014.8462637596608,1047.385592114106 1041,1085 C 1067.1537362403392,1122.614407885894 1094.4329602293692,1204.7213876807552 1134,1232 C 1173.5670397706308,1259.2786123192448 1225.4218953228622,1231.7288571628737 1260,1225 C 1294.5781046771378,1218.2711428371263 1311.8794584791822,1232.3631836677503 1339,1265 C 1366.1205415208178,1297.6368163322497 1403.060270760409,1348.8184081661248 1440,1400 L 1440,600 L 0,600 Z" stroke="none" stroke-width="0" fill="#0693e3" fill-opacity="1" class="transition-all duration-300 ease-in-out delay-150 path-1"></path>
      </svg>
      <div class="text-center mb-20 relative z-20">
        
        <p class="text-sm uppercase tracking-wider text-gray-500 mb-3">
          THE ULTIMATE STOCK MANAGEMENT SOLUTION
        </p>

        <h2
          ref="headerRef"
          class="text-3xl md:text-4xl font-light text-gray-900 inline-block relative pb-4"
        >
          Everything You Need to Manage Your Business
          <svg class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-40 h-8"
            viewBox="0 0 300 40" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M0 20 C30 35, 60 5, 90 25 C120 40, 150 10, 180 30 C210 40, 240 15, 270 25 C300 20, 300 20, 300 20"
              stroke="#10B981"
              stroke-width="10"
              fill="none"
              stroke-linecap="round"
            />
          </svg>
        </h2>

        <p ref="subtitleRef" class="text-gray-600 mt-6 text-lg max-w-2xl mx-auto font-light">
          A complete solution to digitize and automate your stock, sales, suppliers, notifications and analytics.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-x-16 gap-y-24 relative z-20">
        
        <div
          v-for="feature in features"
          :key="feature.title"
          class="feature-item"
        >
          <component
            :is="feature.icon"
            :size="30"
            class="text-[#006879] mb-6"
          />

          <h3 class="text-2xl font-light text-gray-900 mb-4">
            {{ feature.title }}
          </h3>

          <p class="text-gray-600 leading-relaxed">
            {{ feature.description }}
          </p>
        </div>
      </div>
    </div>
  </section>
</template>

<style scoped>
/* Les styles pour l'animation sont maintenant inclus directement dans le bloc SVG, mais vous pouvez les ajuster ici si nécessaire. */

.feature-card {
  will-change: transform, opacity;
}
      
          .path-1{
            animation:pathAnim-1 4s;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
          }
          @keyframes pathAnim-1{
            0%{
              d: path("M 0,600 L 0,350 C 28.51707951182344,359.84569346726903 57.03415902364688,369.69138693453806 88,366 C 118.96584097635312,362.30861306546194 152.38044341723594,345.08014572911674 185,391 C 217.61955658276406,436.91985427088326 249.44406730740928,545.9880301489948 280,567 C 310.5559326925907,588.0119698510052 339.843287353127,520.9677336749045 371,533 C 402.156712646873,545.0322663250955 435.18278328008273,636.1410351513874 468,670 C 500.81721671991727,703.8589648486126 533.4255795265424,680.4681257195462 570,704 C 606.5744204734576,727.5318742804538 647.1148986137478,797.9864619704283 684,828 C 720.8851013862522,858.0135380295717 754.1148260184665,847.5860263987406 782,854 C 809.8851739815335,860.4139736012594 832.4257973123862,883.6694324346095 862,921 C 891.5742026876138,958.3305675653905 928.1819847319883,1009.7362438628213 959,1032 C 989.8180152680117,1054.2637561371787 1014.8462637596608,1047.385592114106 1041,1085 C 1067.1537362403392,1122.614407885894 1094.4329602293692,1204.7213876807552 1134,1232 C 1173.5670397706308,1259.2786123192448 1225.4218953228622,1231.7288571628737 1260,1225 C 1294.5781046771378,1218.2711428371263 1311.8794584791822,1232.3631836677503 1339,1265 C 1366.1205415208178,1297.6368163322497 1403.060270760409,1348.8184081661248 1440,1400 L 1440,600 L 0,600 Z");
            }
            25%{
              d: path("M 0,600 L 0,350 C 32.03598035007393,331.23293567494875 64.07196070014786,312.46587134989755 93,350 C 121.92803929985214,387.53412865010245 147.74813754948252,481.3694502753586 181,492 C 214.25186245051748,502.6305497246414 254.93548910192203,430.05632754866787 293,446 C 331.06451089807797,461.94367245133213 366.50990604282913,566.40523952997 393,592 C 419.49009395717087,617.59476047003 437.02488672676117,564.3227143314523 466,576 C 494.97511327323883,587.6772856685477 535.3905470501264,664.3039031442208 574,693 C 612.6094529498736,721.6960968557792 649.4129250727334,702.461673091664 679,734 C 708.5870749272666,765.538326908336 730.9577526589402,847.8494044891231 764,900 C 797.0422473410598,952.1505955108769 840.7560642915059,974.1407089518434 873,1004 C 905.2439357084941,1033.8592910481566 926.0179901750367,1071.587759703503 960,1089 C 993.9820098249633,1106.412240296497 1041.1719750083466,1103.5082522341443 1070,1119 C 1098.8280249916534,1134.4917477658557 1109.294109791577,1168.3792313599204 1138,1183 C 1166.705890208423,1197.6207686400796 1213.6515858253447,1192.9748223261754 1247,1218 C 1280.3484141746553,1243.0251776738246 1300.0995469070444,1297.7214793353783 1330,1333 C 1359.9004530929556,1368.2785206646217 1399.9502265464778,1384.1392603323109 1440,1400 L 1440,600 L 0,600 Z");
            }
            50%{
              d: path("M 0,600 L 0,350 C 27.281598611442952,367.65885095809017 54.563197222885904,385.3177019161804 86,375 C 117.4368027771141,364.6822980838196 153.02880971989936,326.3880432933685 193,353 C 232.97119028010064,379.6119567066315 277.32156389751674,471.13012491034556 305,529 C 332.67843610248326,586.8698750896544 343.6849346900335,611.0914570652492 373,644 C 402.3150653099665,676.9085429347508 449.9386973423491,718.5040468286574 486,717 C 522.0613026576509,715.4959531713426 546.56027594057,670.8923556201212 572,675 C 597.43972405943,679.1076443798788 623.8201988953707,731.9265306908579 661,757 C 698.1798011046293,782.0734693091421 746.1589284779476,779.4015216164474 780,806 C 813.8410715220524,832.5984783835526 833.5440871928388,888.4673828433519 860,928 C 886.4559128071612,967.5326171566481 919.6647227506976,990.7289470101455 953,1020 C 986.3352772493024,1049.2710529898545 1019.7970218043711,1084.616829116066 1053,1107 C 1086.202978195629,1129.383170883934 1119.1471900318181,1138.8037365255907 1152,1170 C 1184.8528099681819,1201.1962634744093 1217.6142180683569,1254.1682247815716 1246,1270 C 1274.3857819316431,1285.8317752184284 1298.395937694755,1264.5233643481222 1330,1280 C 1361.604062305245,1295.4766356518778 1400.8020311526225,1347.7383178259388 1440,1400 L 1440,600 L 0,600 Z");
            }
            75%{
              d: path("M 0,600 L 0,350 C 19.770473710910032,375.47503475842535 39.540947421820064,400.9500695168507 78,409 C 116.45905257817994,417.0499304831493 173.60668402362975,407.6747566910226 209,422 C 244.39331597637025,436.3252433089774 258.03231648366096,474.35090371905903 287,511 C 315.96768351633904,547.649096280941 360.2640500417266,582.921628432741 391,618 C 421.7359499582734,653.078371567259 438.9114833494329,687.9625825499767 465,687 C 491.0885166505671,686.0374174500233 526.0900165605418,649.2280413673526 565,653 C 603.9099834394582,656.7719586326474 646.7284504083998,701.125251980613 677,736 C 707.2715495916002,770.874748019387 724.996181805859,796.2709507101955 752,850 C 779.003818194141,903.7290492898045 815.2868223681644,985.7909451786049 851,995 C 886.7131776318356,1004.2090548213951 921.8565287214839,940.5652685753848 952,966 C 982.1434712785161,991.4347314246152 1007.2870627459006,1105.9479805198557 1038,1134 C 1068.7129372540994,1162.0520194801443 1104.9952202949132,1103.6428093451934 1144,1128 C 1183.0047797050868,1152.3571906548066 1224.7320560744465,1259.480782099371 1259,1292 C 1293.2679439255535,1324.519217900629 1320.0765554073007,1282.4340622573227 1349,1288 C 1377.9234445926993,1293.5659377426773 1408.9617222963498,1346.7829688713387 1440,1400 L 1440,600 L 0,600 Z");
            }
            100%{
              d: path("M 0,600 L 0,350 C 28.51707951182344,359.84569346726903 57.03415902364688,369.69138693453806 88,366 C 118.96584097635312,362.30861306546194 152.38044341723594,345.08014572911674 185,391 C 217.61955658276406,436.91985427088326 249.44406730740928,545.9880301489948 280,567 C 310.5559326925907,588.0119698510052 339.843287353127,520.9677336749045 371,533 C 402.156712646873,545.0322663250955 435.18278328008273,636.1410351513874 468,670 C 500.81721671991727,703.8589648486126 533.4255795265424,680.4681257195462 570,704 C 606.5744204734576,727.5318742804538 647.1148986137478,797.9864619704283 684,828 C 720.8851013862522,858.0135380295717 754.1148260184665,847.5860263987406 782,854 C 809.8851739815335,860.4139736012594 832.4257973123862,883.6694324346095 862,921 C 891.5742026876138,958.3305675653905 928.1819847319883,1009.7362438628213 959,1032 C 989.8180152680117,1054.2637561371787 1014.8462637596608,1047.385592114106 1041,1085 C 1067.1537362403392,1122.614407885894 1094.4329602293692,1204.7213876807552 1134,1232 C 1173.5670397706308,1259.2786123192448 1225.4218953228622,1231.7288571628737 1260,1225 C 1294.5781046771378,1218.2711428371263 1311.8794584791822,1232.3631836677503 1339,1265 C 1366.1205415208178,1297.6368163322497 1403.060270760409,1348.8184081661248 1440,1400 L 1440,600 L 0,600 Z");
            }
          }
             .path-0{
            animation:pathAnim-0 4s;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
          }
          @keyframes pathAnim-0{
            0%{
              d: path("M 0,600 L 0,150 C 27.3758486096744,147.71800206430567 54.7516972193488,145.43600412861133 83,170 C 111.2483027806512,194.56399587138867 140.36905973227923,245.9739855498604 175,275 C 209.63094026772077,304.0260144501396 249.77206385153426,310.668053671947 285,311 C 320.22793614846574,311.331946328053 350.5426848615836,305.35379976235157 385,345 C 419.4573151384164,384.64620023764843 458.05719670213136,469.91674727864677 486,521 C 513.9428032978686,572.0832527213532 531.2285283298909,588.9792111230613 559,598 C 586.7714716701091,607.0207888769387 625.028689978305,608.1664082291084 659,601 C 692.971310021695,593.8335917708916 722.6567117568893,578.3551559605056 760,624 C 797.3432882431107,669.6448440394944 842.3444629941376,776.4129679288689 878,821 C 913.6555370058624,865.5870320711311 939.9654362665597,847.9929723240189 964,846 C 988.0345637334403,844.0070276759811 1009.7937919396236,857.6151427750556 1042,887 C 1074.2062080603764,916.3848572249444 1116.8593959749462,961.5464565757584 1148,1004 C 1179.1406040250538,1046.4535434242416 1198.7686241605911,1086.1990309219113 1235,1096 C 1271.2313758394089,1105.8009690780887 1324.0661073826882,1085.6574197365967 1361,1098 C 1397.9338926173118,1110.3425802634033 1418.966946308656,1155.1712901317017 1440,1200 L 1440,600 L 0,600 Z");
            }
            25%{
              d: path("M 0,600 L 0,150 C 25.07275501283287,158.49680422390804 50.14551002566574,166.99360844781606 79,188 C 107.85448997433426,209.00639155218394 140.49071491016988,242.52237043264387 177,258 C 213.50928508983012,273.47762956735613 253.89163033365486,270.9169098216085 290,279 C 326.10836966634514,287.0830901783915 357.94276375521065,305.8099902809222 392,351 C 426.05723624478935,396.1900097190778 462.3373146455024,467.8431290547028 490,510 C 517.6626853544976,552.1568709452972 536.7079776627797,564.8174935002668 566,579 C 595.2920223372203,593.1825064997332 634.8307747033787,608.8868969442299 666,619 C 697.1692252966213,629.1131030557701 719.9689235237055,633.6349187228141 750,642 C 780.0310764762945,650.3650812771859 817.2935312017996,662.5734281645136 851,678 C 884.7064687982004,693.4265718354864 914.856951669096,712.0713686191311 946,752 C 977.143048330904,791.9286313808689 1009.2786621218168,853.141097358962 1047,880 C 1084.7213378781832,906.858902641038 1128.0283998436369,899.3642419450205 1161,926 C 1193.9716001563631,952.6357580549795 1216.6077385036363,1013.4019348609561 1246,1056 C 1275.3922614963637,1098.598065139044 1311.5406461418181,1123.0280186111554 1345,1144 C 1378.4593538581819,1164.9719813888446 1409.229676929091,1182.4859906944223 1440,1200 L 1440,600 L 0,600 Z");
            }
            50%{
              d: path("M 0,600 L 0,150 C 24.924205624559704,145.03885479642992 49.84841124911941,140.07770959285986 79,164 C 108.15158875088059,187.92229040714014 141.53056062808204,240.72801642499053 175,281 C 208.46943937191796,321.2719835750095 242.0293462385526,349.0102247071782 280,368 C 317.9706537614474,386.9897752928218 360.3520544177076,397.2310847462965 393,395 C 425.6479455822924,392.7689152537035 448.56243609061687,378.0654363076358 482,385 C 515.4375639093831,391.9345636923642 559.3982012198252,420.50717002316014 593,480 C 626.6017987801748,539.4928299768399 649.8447590300822,629.9058835997237 673,652 C 696.1552409699178,674.0941164002763 719.2227626598461,627.8692955779452 756,641 C 792.7772373401539,654.1307044220548 843.264190330533,726.6169340884957 881,779 C 918.735809669467,831.3830659115043 943.7204760180215,863.6629680680715 967,892 C 990.2795239819785,920.3370319319285 1011.8539055973811,944.7311936392184 1048,951 C 1084.146094402619,957.2688063607816 1134.8639015924543,945.4122573750549 1168,948 C 1201.1360984075457,950.5877426249451 1216.6904880328009,967.6197768605622 1246,995 C 1275.3095119671991,1022.3802231394378 1318.3741462763423,1060.1086351826964 1353,1096 C 1387.6258537236577,1131.8913648173036 1413.8129268618288,1165.945682408652 1440,1200 L 1440,600 L 0,600 Z");
            }
            75%{
              d: path("M 0,600 L 0,150 C 27.30710472118067,108.44307701576162 54.61420944236134,66.88615403152322 83,76 C 111.38579055763866,85.11384596847678 140.85026695173528,144.8984608896687 177,197 C 213.14973304826472,249.1015391103313 255.98472275069759,293.52000240980186 295,329 C 334.0152772493024,364.47999759019814 369.2108420454745,391.02152947112376 395,396 C 420.7891579545255,400.97847052887624 437.1719090674044,384.39387970570294 469,409 C 500.8280909325956,433.60612029429706 548.101521684908,499.4029517060644 581,540 C 613.898478315092,580.5970482939356 632.422004192964,595.9943134700394 667,630 C 701.577995807036,664.0056865299606 752.2104615432362,716.6197944137781 784,736 C 815.7895384567638,755.3802055862219 828.7361496340914,741.5265088748484 860,748 C 891.2638503659086,754.4734911251516 940.8449399203988,781.2741700868282 975,810 C 1009.1550600796012,838.7258299131718 1027.8840906843132,869.3768107778387 1056,906 C 1084.1159093156868,942.6231892221613 1121.618697342349,985.2185868018164 1156,990 C 1190.381302657651,994.7814131981836 1221.6411199462907,961.7488420148956 1253,984 C 1284.3588800537093,1006.2511579851044 1315.8168228724883,1083.7860451386011 1347,1129 C 1378.1831771275117,1174.2139548613989 1409.091588563756,1187.1069774306993 1440,1200 L 1440,600 L 0,600 Z");
            }
            100%{
              d: path("M 0,600 L 0,150 C 27.3758486096744,147.71800206430567 54.7516972193488,145.43600412861133 83,170 C 111.2483027806512,194.56399587138867 140.36905973227923,245.9739855498604 175,275 C 209.63094026772077,304.0260144501396 249.77206385153426,310.668053671947 285,311 C 320.22793614846574,311.331946328053 350.5426848615836,305.35379976235157 385,345 C 419.4573151384164,384.64620023764843 458.05719670213136,469.91674727864677 486,521 C 513.9428032978686,572.0832527213532 531.2285283298909,588.9792111230613 559,598 C 586.7714716701091,607.0207888769387 625.028689978305,608.1664082291084 659,601 C 692.971310021695,593.8335917708916 722.6567117568893,578.3551559605056 760,624 C 797.3432882431107,669.6448440394944 842.3444629941376,776.4129679288689 878,821 C 913.6555370058624,865.5870320711311 939.9654362665597,847.9929723240189 964,846 C 988.0345637334403,844.0070276759811 1009.7937919396236,857.6151427750556 1042,887 C 1074.2062080603764,916.3848572249444 1116.8593959749462,961.5464565757584 1148,1004 C 1179.1406040250538,1046.4535434242416 1198.7686241605911,1086.1990309219113 1235,1096 C 1271.2313758394089,1105.8009690780887 1324.0661073826882,1085.6574197365967 1361,1098 C 1397.9338926173118,1110.3425802634033 1418.966946308656,1155.1712901317017 1440,1200 L 1440,600 L 0,600 Z");
            }
          }
        
/* Ces couleurs et opacités sont appliquées directement dans le HTML/SVG par souci de simplicité. */
/* Si vous vouliez les contrôler via Vue/JS, il faudrait externaliser le CSS. */
/* Le path-0 a fill="#0693e3" fill-opacity="0.53" dans l'attribut fill */
/* Le path-1 a fill="#0693e3" fill-opacity="1" dans l'attribut fill */
</style>